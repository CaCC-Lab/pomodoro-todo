# PomoTodo - ポモドーロタイマー統合型タスク管理

## 概要
ポモドーロテクニックを活用したタスク管理アプリです。タスクリストとタイマーを統合し、効率的な時間管理を実現します。

## 特徴
- ✅ Vanilla JavaScript（フレームワーク不使用）
- 🍅 25分作業/5分休憩のポモドーロタイマー
- 📝 タスク管理（追加、編集、削除、完了チェック）
- 💾 LocalStorageによるデータ永続化
- 📱 レスポンシブデザイン（デスクトップ、タブレット、モバイル）
- 🌙 ダークモード対応
- 🔔 音声・ブラウザ通知
- ⏱ システム時刻ベースの高精度タイマー（±1秒以内）

## 使い方

### 起動方法
1. ブラウザで `index.html` を開く
2. それだけ！（ビルド不要、インストール不要）

### タスク管理
1. **追加**: タスク名と見積もりポモドーロ数を入力して「追加」
2. **選択**: タスクをクリックして選択（青枠表示）
3. **編集**: ✏️ボタンで編集
4. **削除**: ✕ボタンで削除
5. **完了**: チェックボックスで完了マーク
6. **フィルタ**: 全て/未完了/完了済みで絞り込み

### タイマー操作
1. タスクを選択
2. 「開始」ボタンでタイマースタート
3. 「一時停止」で一時停止
4. 「リセット」で初期化
5. 「スキップ」で作業↔休憩を切り替え

### 通知
- タイマー終了時に音声通知
- ブラウザ通知（許可が必要）
- 視覚的なアニメーション

## ファイル構成
```
5-amp-solo/output/
├── index.html       (102行) - HTML構造
├── style.css        (496行) - スタイリング
├── app.js           (603行) - ロジック
├── execution-log.txt       - 実装ログ
└── README.md              - このファイル
```

## 技術仕様

### データモデル
**Task**
```javascript
{
  id: 'task_1234567890',
  title: 'タスク名',
  completed: false,
  estimatedPomodoros: 5,
  actualPomodoros: 2,
  createdAt: '2025-10-27T12:00:00.000Z',
  completedAt: null
}
```

**Timer**
```javascript
{
  mode: 'work', // 'idle' | 'work' | 'shortBreak' | 'longBreak'
  duration: 1500, // 秒
  remainingTime: 1500,
  isRunning: false,
  isPaused: false,
  currentTaskId: 'task_1234567890',
  startedAt: 1698412800000, // タイムスタンプ
  pomodoroCount: 8 // 今日の完了ポモドーロ数
}
```

### LocalStorageキー
- `pomotodo_tasks`: タスクデータ
- `pomotodo_timer`: タイマー状態
- `pomotodo_settings`: 設定
- `pomotodo_today`: 日付（日付変更時にポモドーロ数リセット）

### タイマー仕様
- 作業時間: 25分（設定変更可能）
- 短休憩: 5分
- 長休憩: 15分（4ポモドーロごと）
- 精度: システム時刻ベース補正で±1秒以内
- バックグラウンド対応: タブ切り替え後も正確

### レスポンシブブレークポイント
- デスクトップ（1024px以上）: 2カラム（40%/60%）
- タブレット（768px-1023px）: 2カラム（45%/55%）
- モバイル（768px未満）: 1カラム（タイマー上、Todo下）

## セキュリティ
- ✅ XSS対策: `textContent`使用、`innerHTML`制限
- ✅ データ検証: タスク名100文字、見積もり1-20
- ✅ エラーハンドリング: try-catch、ユーザーフレンドリーメッセージ

## エラーメッセージ
- **E001**: タスク名を入力してください
- **E002**: タスク名は100文字以内で入力してください
- **E003**: タスクを選択してください
- **E004**: タイマーを停止してから削除してください
- **E005**: 保存容量が不足しています
- **E006**: データの保存に失敗しました
- **E007**: タイマーをリセットしますか?

## ブラウザ対応
- Chrome（推奨）
- Firefox
- Safari
- Edge
- モバイルブラウザ

## 制約事項
- LocalStorage容量: 約5MB
- タスク推奨上限: 100件程度
- 通知: ブラウザ許可が必要
- オフライン動作: 可能（すべてローカル）

## カスタマイズ
`app.js`の`settings`オブジェクトで設定変更可能:
```javascript
settings: {
  workDuration: 25,          // 作業時間（分）
  shortBreakDuration: 5,     // 短休憩（分）
  longBreakDuration: 15,     // 長休憩（分）
  longBreakInterval: 4,      // 長休憩の間隔（ポモドーロ数）
  notificationSound: 'beep', // 通知音（'beep' | 'silent'）
}
```

## パフォーマンス
- 初回読み込み: < 100ms
- タスク操作: < 50ms
- フィルタ切り替え: < 50ms
- タイマー更新: 1秒ごと（±1秒以内）
- メモリ使用量: < 5MB

## ライセンス
MIT License

## 実装者
Amp (AI Assistant) - Amp Solo実装方式

## 実装日
2025-10-27

## バージョン
1.0.0
