# テスト観点の表（等価分割・境界値）

## 1. タスク管理機能

### 1.1 タスク追加
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| タイトル未入力 | 空文字、空白のみ | ""、" " | - | エラーメッセージ(E001): "タスク名を入力してください" |
| タイトル正常 | 1〜100文字 | 1文字、100文字 | "タスク1" | 正常にタスクが追加される |
| タイトル異常 | 101文字以上 | 101文字 | 101文字の文字列 | エラーメッセージ(E002): "タスク名は100文字以内で入力してください" |
| 推定ポモドーロ数正常 | 1〜20の整数 | 1、20 | 5 | 正常にタスクが追加される |
| 推定ポモドーロ数異常 | 0、負数、21以上、非整数 | 0、-1、21、0.5、"abc" | 0.5、"abc" | 通常のタスクとして追加（推定数はnull） |

### 1.2 タスク編集
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| タイトル未入力 | 空文字、空白のみ | ""、" " | - | エラーメッセージ: "タスク名は必須です" |
| タイトル正常 | 1〜100文字 | 1文字、100文字 | "修正されたタスク" | 正常にタスクが更新される |
| タイトル異常 | 101文字以上 | 101文字 | 101文字の文字列 | エラーメッセージ(E002): "タスク名は100文字以内で入力してください" |

### 1.3 タスク削除
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 削除対象が存在する | 存在するID | 最初のID、最後のID | 実際のID | 正常に削除される |
| 削除対象が存在しない | 存在しないID | 実際に存在しないID | "task_nonexistent" | タスクが見つからず、削除されない |
| 実行中のタスクを削除 | 現在選択中のタスクが実行中 | 実行中のタスクID | 実際の実行中ID | エラーメッセージ(E004): "タイマーを停止してから削除してください" |

### 1.4 タスク完了状態切替
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 完了状態切替 | 完了→未完了、未完了→完了 | 最初のタスク、最後のタスク | 実際のタスクID | 完了状態が正しく切り替わる |
| 存在しないタスク | 存在しないID | 実際に存在しないID | "task_nonexistent" | 状態が変化しない |

## 2. タイマー管理機能

### 2.1 タイマー開始
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| タスク未選択で開始 | nullタスク | null | - | エラーメッセージ(E003): "タスクを選択してください" |
| 編集中のタスクで開始 | 編集中の状態 | 編集中ID | 実際の編集中ID | エラーメッセージ(E008): "編集を完了してください" |
| タスク選択して開始 | 有効なタスクID | 最初のタスク、最後のタスク | 実際のタスクID | 正常にタイマーが開始される |

### 2.2 タイマー一時停止
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 動作中のタイマーを一時停止 | 実行中のタイマー | - | 実際に実行中のタイマー | 正常に一時停止される |
| 一時停止中のタイマーを一時停止 | 既に一時停止中 | - | 実際に一時停止中のタイマー | タイマーが停止したまま |

### 2.3 タイマーリセット
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| リセット確認OK | 確認ダイアログでOK | - | - | タイマーがリセットされる |
| リセット確認キャンセル | 確認ダイアログでキャンセル | - | - | タイマー状態が維持される |

### 2.4 タイマースキップ
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 実行中のタイマーをスキップ | 実行中のタイマー | - | 実際に実行中のタイマー | 次のモードに移行 |
| 実行中ではないタイマーをスキップ | 実行中でないタイマー | - | 実際に停止中のタイマー | スキップしない |

## 3. 設定・フィルタリング機能

### 3.1 フィルター設定
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 有効なフィルター | "all", "active", "completed" | "all", "active", "completed" | "active" | フィルターが適用される |
| 無効なフィルター | 無効な値 | "invalid", null | "invalid" | デフォルトの"all"フィルターが使用される |

### 3.2 検索機能
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 検索語なし | 空文字 | "" | "" | すべてのタスクが表示される |
| 一致する検索語 | 一致する文字列 | 1文字、最大文字数 | "タスク" | 一致するタスクのみが表示される |
| 一致しない検索語 | 一致しない文字列 | 任意の文字列 | "存在しない" | 結果が見つからない |

## 4. データ永続化

### 4.1 データ保存
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 保存成功 | localStorage利用可能 | - | - | データが正常に保存される |
| 容量超過エラー | ストレージ容量オーバー | 最大容量 | 最大容量データ | エラーメッセージ(E005): "保存容量が不足しています" |
| 保存時の一般エラー | 他の保存エラー | 任意のエラー | 任意のエラー | エラーメッセージ(E006): "データの保存ができません" |

### 4.2 データ読込
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 読込成功 | 有効な保存データ | - | - | データが正常に読み込まれる |
| 保存データなし | localStorageにデータなし | - | - | デフォルト値が使用される |
| 破損したデータ | JSON形式が不正 | 破損したJSON | 破損したJSON | 例外が発生し、デフォルト値が使用される |

## 5. その他の機能

### 5.1 コンプリートタスクのクリア
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 削除確認OK | 確認ダイアログでOK | - | - | 完了したタスクがすべて削除される |
| 削除確認キャンセル | 確認ダイアログでキャンセル | - | - | 完了したタスクが削除されない |
| 完了タスクなし | 未完了タスクのみ | - | - | 何もない |

### 5.2 フォーカスモード
| ニテスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| フォーカスモード有効化 | フォーカスモードをON | - | - | タスク編集UIが無効化される |
| フォーカスモード無効化 | フォーカスモードをOFF | - | - | タスク編集UIが再び有効化される |

### 5.3 ポモドーロカウント計算
| テスト観点 | パーティション | 境界値 | 典型的な値 | 期待される結果 |
|------------|----------------|--------|------------|----------------|
| 実績ポモドーロ数が推定未満 | actual < estimated | 0/5、2/5 | 3/5 | "pomodoros-under" クラスが適用 |
| 実績ポモドーロ数が推定と一致 | actual == estimated | 5/5 | 5/5 | "pomodoros-met" クラスが適用 |
| 実績ポモドーロ数が推定超過 | actual > estimated | 6/5、10/5 | 7/5 | "pomodoros-over" クラスが適用 |
| 推定なし | estimated == null | 3/null | 3/null | クラス適用なし |