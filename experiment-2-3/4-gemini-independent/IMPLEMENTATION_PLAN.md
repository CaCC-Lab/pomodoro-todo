# PomoTodoアプリ 実装計画書

## フェーズ1: プロジェクトの基本設定とHTML構造

- [ ] `index.html` ファイルを作成する
- [ ] `style.css` ファイルを作成する
- [ ] `app.js` ファイルを作成する
- [ ] `index.html` に基本的なHTML構造（`<!DOCTYPE>`, `<html>`, `<head>`, `<body>`）を記述する
- [ ] `<head>`内で`style.css`と`app.js`をリンクする
- [ ] `<body>`内に、ヘッダー、Todoリストセクション、タイマーセクションの基本的なコンテナ要素を配置する

## フェーズ2: Todoリスト機能の実装

- [ ] **タスク表示**
    - [ ] `app.js`にタスクデータを管理する配列を定義する
    - [ ] タスク配列を元にDOM要素を生成し、リストに表示する関数を実装する
- [ ] **タスク追加**
    - [ ] タスク名を入力する`<input>`と「追加」`<button>`をHTMLに追加する
    - [ ] タスク追加機能（配列への追加とDOMの更新）を実装する
    - [ ] 入力値のバリデーション（空文字、100文字超過）とエラーメッセージ表示を実装する
    - [ ] 追加後の入力フォームクリア処理を実装する
- [ ] **タスク完了**
    - [ ] 各タスクにチェックボックスを設置する
    - [ ] チェックボックスの状態に応じて、タスクの完了状態を切り替える機能を実装する
    - [ ] 完了状態に応じて打ち消し線と背景色を変更するCSSクラスを定義・適用する
- [ ] **タスク編集**
    - [ ] タスク名をダブルクリックすると編集モードになる機能を実装する
    - [ ] Enterで編集を確定、Escでキャンセルする機能を実装する
- [ ] **タスク削除**
    - [ ] 各タスクに削除ボタン（✕アイコン）を設置する
    - [ ] 削除ボタンクリックでタスクを削除する機能を実装する
- [ ] **タスクフィルタリング**
    - [ ] 「全て」「未完了」「完了済み」のフィルタボタンをHTMLに追加する
    - [ ] フィルタ状態に応じて表示するタスクを切り替える機能を実装する
    - [ ] アクティブなフィルタを視覚的に示すCSSを実装する

## フェーズ3: ポモドーロタイマー機能の実装

- [ ] **タイマー表示**
    - [ ] 残り時間を表示する要素（MM:SS形式）をHTMLに追加する
    - [ ] 円形または直線の進捗バーをHTML/CSSで作成する
- [ ] **タイマー基本操作**
    - [ ] 「開始」「一時停止」「リセット」ボタンをHTMLに追加する
    - [ ] `setInterval`を使用して1秒ごとにタイマーを更新するロジックを実装する
    - [ ] 開始、一時停止、リセットの各機能を実装する
- [ ] **タイマーモード管理**
    - [ ] 「作業」「短い休憩」「長い休憩」の状態を管理するロジックを実装する
    - [ ] 4ポモドーロごとに長い休憩を提案するロジックを実装する
    - [ ] モードに応じてタイマー時間と背景色を変更する機能を実装する
- [ ] **タイマー終了時の動作**
    - [ ] タイマー終了時に音とブラウザ通知（Notification API）で通知する機能を実装する
    - [ ] 作業終了後、自動的に休憩タイマーに移行する機能を実装する

## フェーズ4: 統合機能とデータ永続化

- [ ] **タスクとタイマーの連携**
    - [ ] Todoリストのタスクを選択できる機能を実装する（選択されたタスクはハイライト）
    - [ ] タイマー開始時に、選択されているタスクとタイマーを紐付ける
    - [ ] タイマー実行中は他のタスクを選択できないようにする
- [ ] **ポモドーロ数のカウント**
    - [ ] 作業セッション完了時に、紐付いたタスクの実績ポモドーロ数を+1する
    - [ ] 各タスクに見積もり/実績ポモドーロ数を表示する (`🍅 3/5`)
    - [ ] 今日の合計ポモドーロ数を表示する
- [ ] **LocalStorageによる永続化**
    - [ ] タスクリストの状態（追加、編集、削除、完了）が変更されるたびにLocalStorageに保存する
    - [ ] タイマーの状態（モード、残り時間など）をLocalStorageに保存する
    - [ ] フィルタの状態や設定をLocalStorageに保存する
    - [ ] ページ読み込み時にLocalStorageからデータを読み込み、状態を復元する機能を実装する

## フェーズ5: UI/UXの改善とスタイリング

- [ ] **レスポンシブデザイン**
    - [ ] CSSメディアクエリを使用して、モバイル、タブレット、デスクトップで最適なレイアウトになるように調整する
- [ ] **カラースキームとタイポグラフィ**
    - [ ] 要件定義書に基づいたカラーパレットとフォントを`style.css`に設定する
    - [ ] ダークモードに対応する (`prefers-color-scheme: dark`)
- [ ] **コンポーネントのスタイリング**
    - [ ] ボタン、入力フィールド、タスクカードなどを要件定義書のデザインに合わせてスタイリングする
- [ ] **アニメーション**
    - [ ] タスクの追加・削除時にフェードイン・フェードアウトのアニメーションを実装する
    - [ ] ボタンホバー時やタイマー実行中の視覚的フィードバックを実装する

## フェーズ6: 最終調整と品質保証

- [ ] **アクセシビリティ**
    - [ ] キーボードでの操作（Tab, Enter, Escなど）を可能にする
    - [ ] 適切なARIA属性を追加し、スクリーンリーダーの読み上げを改善する
    - [ ] 十分なカラーコントラストを確保する
- [ ] **エラーハンドリング**
    - [ ] LocalStorageが利用できない場合などのエッジケースに対応する
    - [ ] ユーザーに分かりやすいエラーメッセージを表示する
- [ ] **コード品質**
    - [ ] コード全体をレビューし、命名規則やフォーマットを統一する
    - [ ] 巨大な関数を分割し、単一責任の原則に従うようにリファクタリングする
    - [ ] マジックナンバーを定数に置き換える
- [ ] **クロスブラウザテスト**
    - [ ] 最新版のChrome, Firefox, Safari, Edgeで動作確認を行う
